{"version":3,"sources":["context/auth.context.js","components/Pokemon.js","components/Pokemons.js","components/Loader.js","redux/actions/actionTypes.js","redux/actions/actions.js","pages/Auth.js","hooks/message.hook.js","hooks/http.hooks.js","pages/Pokemons.js","components/CaughtPokemon.js","pages/caughtPokemons.js","components/PokemonCard.js","pages/Pokemon.js","hooks/auth.hooks.js","components/Navbar.js","App.js","routes.js","reportWebVitals.js","redux/reducers/pokemonReducer.js","redux/reducers/loaderReducer.js","redux/reducers/rootReducer.js","index.js"],"names":["AuthContext","createContext","token","userId","login","logout","isAuth","Pokemon","props","min","max","imagePath","pokemon","id","Math","ceil","floor","random","useState","setIsUpdate","className","to","src","alt","name","disabled","onClick","catchPokemon","PokemonsCard","pokemons","map","Loader","GET_POKEMONS","GET_POKEMON","CAUGHT_POKEMON","LOAD_MORE","NOT_AUTH","SHOW_LOADER","HIDE_LOADER","RESET_POKEMON","showLoader","type","hideLoader","Auth","auth","useContext","message","useCallback","text","alert","loading","setLoading","error","setError","request","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","clearError","useHttp","dispatch","useDispatch","password","form","setForm","useEffect","changeHandler","event","target","value","loginHandler","registerHandler","console","log","onChange","placeholder","Pokemons","useSelector","state","displayPokemons","load","notAuth","loadMore","pokemonId","putPokemon","length","fetchPokemons","payload","enableCatchBtn","CaughtPokemonsCard","pokemonName","CaughtPokemons","caughtPokemons","getCaughtPokemons","PokemonCard","isCatch","date","useParams","pokemonDisplay","fetchPokemon","getPokemon","isDown","split","slice","join","storageName","Navbar","history","useHistory","href","preventDefault","push","App","setToken","setuserId","ready","setReady","jwtToken","localStorage","setItem","removeItem","userLocalStorage","parse","getItem","useAuth","routes","path","exact","useRoutes","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","page","isInit","isMessage","rootReducers","combineReducers","action","concat","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8090c7e2.chunk.js","sourcesContent":["import {createContext} from 'react'\n\nexport const AuthContext = createContext({\n    token: null,\n    userId: null,\n    login: () => {\n    },\n    logout: () => {\n    },\n    isAuth: false\n})","import {NavLink} from \"react-router-dom\";\nimport React, {useState} from \"react\";\n\n\nconst getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport const Pokemon = (props) => {\n\n    let imagePath = \"/img/\" + props.pokemon.id + \".png\"\n    if (props.pokemon.id >= 721) {\n        let randomImage = getRandomInt(1, 720);\n        imagePath = \"/img/\" + randomImage + \".png\"\n    }\n    const [isUpdate, setIsUpdate] = useState(false);\n\n    return (\n        <div className=\"pokemons__card\">\n            <NavLink to={`/pokemon/:${props.pokemon.id}`}>\n                <img src={imagePath} alt=\"pokemon\"/>\n                <h5>{props.pokemon.name}</h5>\n            </NavLink>\n            <button\n                className=\"pokemons__card__btn\"\n                disabled={props.pokemon.disabled}\n                onClick={() => {\n                    setIsUpdate(true);\n                    props.pokemon.disabled = true;\n                    props.catchPokemon(props.pokemon);\n                }}\n            >{'Поймать покемона'}\n            </button>\n        </div>\n    )\n}\n","import React from 'react';\nimport {Pokemon} from \"./Pokemon\";\n\nexport const PokemonsCard = (props) => {\n    return (\n        props.pokemons.map(pokemon => {\n            return (<Pokemon pokemon={pokemon} key={pokemon.id} catchPokemon={props.catchPokemon}/>)\n        })\n    )\n}","import React from 'react'\nimport '../style/loader/loader.scss'\n\nexport const Loader = () => {\n    return (\n        <div className=\"container__loader\">\n            <div className=\"loader\"/>\n        </div>)\n}","export const GET_POKEMONS = 'GET_POKEMONS';\nexport const GET_POKEMON = 'GET_POKEMON';\nexport const CAUGHT_POKEMON = \"CAUGHT_POKEMON\";\nexport const LOAD_MORE = \"LOAD_MORE\";\nexport const PUT_POKEMON = \"PUT_POKEMON\";\nexport const NOT_AUTH = \"NOT_AUTH\";\n\nexport const SHOW_LOADER = 'SHOW_LOADER';\nexport const HIDE_LOADER = 'HIDE_LOADER';\nexport const RESET_POKEMON = 'RESET_POKEMON';\n","import {\n    CAUGHT_POKEMON, GET_POKEMON,\n    GET_POKEMONS, HIDE_LOADER,\n    LOAD_MORE, NOT_AUTH, RESET_POKEMON, SHOW_LOADER\n} from './actionTypes'\n\nexport const fetchPokemons = (token) => {\n    return async dispatch => {\n        try {\n            dispatch(showLoader());\n            const response = await fetch('/api/img/all', {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n            const fetchPokemons = await response.json();\n            if (fetchPokemons.message) {\n                dispatch({\n                    type: NOT_AUTH\n                })\n            } else {\n                dispatch({\n                    type: GET_POKEMONS,\n                    payload: fetchPokemons\n                })\n            }\n            dispatch(hideLoader());\n        } catch (e) {\n            console.log(\"err\", e)\n        }\n\n    }\n}\n\nexport function putPokemon(pokemon, token) {\n    return async dispatch => {\n        try {\n            pokemon.disabled = true;\n            pokemon.pokemonId = pokemon.id;\n            const response = await fetch('/api/img/catch', {\n                method: 'POST',\n                body: JSON.stringify(pokemon),\n                headers: {\n                    \"Content-type\": \"application/json\",\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n            await response.json();\n        } catch (e) {\n            console.log(\"err\", e)\n        }\n    }\n\n}\n\nexport function loadMorePokemons() {\n    return {\n        type: LOAD_MORE\n    }\n}\n\nexport function getCaughtPokemons(token) {\n    return async dispatch => {\n        try {\n            dispatch(showLoader());\n            const response = await fetch('/api/img/caughtPokemons', {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n            const fetchPokemons = await response.json();\n            dispatch({\n                type: CAUGHT_POKEMON,\n                payload: fetchPokemons\n            })\n            dispatch(hideLoader());\n\n        } catch (e) {\n            console.log(\"err\", e)\n        }\n\n    }\n}\n\nexport function getPokemon(pokemonId, token) {\n    return async dispatch => {\n        try {\n            dispatch(showLoader());\n            const response = await fetch(`/api/img/pokemon/${pokemonId}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n            const fetchPokemon = await response.json();\n            dispatch({\n                type: GET_POKEMON,\n                payload: fetchPokemon\n            })\n            dispatch(hideLoader());\n        } catch (e) {\n            console.log(\"err\", e)\n        }\n    }\n}\n\nexport function showLoader() {\n    return {\n        type: SHOW_LOADER\n    }\n}\n\nexport function hideLoader() {\n    return {\n        type: HIDE_LOADER\n    }\n}\n\nexport function resetAll() {\n    return {\n        type: RESET_POKEMON\n    }\n}\n\n","import React, {useContext, useEffect, useState} from 'react';\nimport {useHttp,} from \"../hooks/http.hooks\";\nimport {useMessage} from \"../hooks/message.hook\";\nimport {AuthContext} from \"../context/auth.context\";\nimport {useDispatch} from \"react-redux\";\nimport {resetAll} from \"../redux/actions/actions\";\nimport \"../style/auth/auth.scss\"\n\nexport const Auth = () => {\n    const auth = useContext(AuthContext);\n    const message = useMessage();\n    const {loading, request, error, clearError} = useHttp();\n    const dispatch = useDispatch();\n\n    const [form, setForm] = useState({\n        login: \"\", password: \"\"\n    })\n\n    useEffect(() => {\n        message(error);\n        clearError();\n    }, [error, message, clearError])\n\n    const changeHandler = event => {\n        setForm({...form, [event.target.name]: event.target.value})\n    }\n\n    const loginHandler = async () => {\n        auth.logout();\n        dispatch(resetAll());\n        try {\n            const data = await request('/api/auth/login', \"POST\", {...form})\n            auth.login(data.token, data.userId);\n        } catch (e) {\n        }\n    }\n\n    const registerHandler = async () => {\n        try {\n            const data = await request('/api/auth/register', \"POST\", {...form});\n            message(data.message);\n        } catch (e) {\n            console.log(\"e =\", e);\n        }\n    }\n\n\n    return (\n        <div className=\"first\">\n            <div className=\"first__auth\">\n                <div className=\"first__auth__input\">\n                    <input\n                        className=\"input\"\n                        type='text'\n                        id=\"login\"\n                        name=\"login\"\n                        onChange={changeHandler}\n                        placeholder=\"Login\"\n                    />\n                    <input\n                        id=\"password\"\n                        className=\"input\"\n                        name=\"password\"\n                        type='text'\n                        onChange={changeHandler}\n                        placeholder=\"Password\"\n                    />\n                </div>\n                <div className=\"first__auth__operations\">\n                    <button\n                        className=\"first__auth__operations_login\"\n                        onClick={loginHandler}\n                        disabled={loading}\n                    >\n                        Войти\n                    </button>\n                    <button\n                        className=\"first__auth__operations_register\"\n                        onClick={registerHandler}\n                        disabled={loading}\n                    >\n                        Регистрация\n                    </button>\n                </div>\n            </div>\n        </div>\n\n    )\n}","import {useCallback} from 'react'\n\nexport const useMessage = () => {\n    return useCallback(text => {\n        if (text) {\n            alert(text);\n        }\n    }, [])\n}","import {useState, useCallback} from 'react';\n\nexport const useHttp = () => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const request = useCallback(async (url, method = \"GET\", body = \"null\", headers = {}) => {\n        setLoading(true);\n        if (body) {\n            body = JSON.stringify(body);\n            headers['Content-Type'] = 'application/json';\n        }\n        try {\n            const response = await fetch(url, {method, body, headers});\n            const data = await response.json();\n            if (!response.ok) {\n                throw new Error(data.message || \"Error!\");\n            }\n            setLoading(false);\n            return data;\n        } catch (e) {\n            setLoading(false);\n            setError(e.message);\n            throw e;\n        }\n\n    }, [])\n\n    const clearError = useCallback(() => setError(null), [])\n\n    return {loading, request, error, clearError}\n}\n","import React, {useCallback, useContext, useEffect} from 'react'\nimport {AuthContext} from \"../context/auth.context\";\nimport {PokemonsCard} from \"../components/Pokemons\";\nimport {Loader} from \"../components/Loader\";\nimport '../style/pokemons/Pokemons.scss'\nimport '../style/loadMore/loadMore.scss'\nimport '../style/loader/loader.scss'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchPokemons, loadMorePokemons, putPokemon} from \"../redux/actions/actions\"\nimport {Auth} from \"./Auth\";\n\nexport const Pokemons = () => {\n    const dispatch = useDispatch();\n    const {token} = useContext(AuthContext);\n    const pokemons = useSelector(state => state.pokemons.pokemons);\n    const displayPokemons = useSelector(state => state.pokemons.displayPokemons);\n    const loading = useSelector(state => state.load.loading);\n    const notAuth = useSelector(state => state.load.notAuth);\n\n    const loadMore = useCallback(() => {\n        dispatch(loadMorePokemons())\n    }, [dispatch])\n\n    const catchPokemon = useCallback((pokemon) => {\n        dispatch(putPokemon(pokemon, token));\n    }, [dispatch, token])\n\n    useEffect(() => {\n        if (!pokemons.length) {\n            dispatch(fetchPokemons(token))\n        }\n    }, [dispatch, token, pokemons.length])\n\n    if (loading) {\n        return <Loader/>\n    }\n\n    if (notAuth) {\n        return <Auth/>\n    }\n\n    return (\n        <>\n            {!loading && <div className=\"container\">\n                <div className=\"pokemons\">\n                    <PokemonsCard\n                        pokemons={displayPokemons}\n                        enableCatchBtn={true}\n                        catchPokemon={catchPokemon}\n                    />\n                </div>\n                <button className=\"loadMore\" onClick={loadMore}>Load more</button>\n            </div>\n            }\n        </>\n    )\n}","import React from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport '../style/pokemons/Pokemons.scss'\n\nexport const CaughtPokemonsCard = (props) => {\n    return (\n        <div className=\"pokemons__card\">\n            <NavLink to={`/pokemon/:${props.pokemon.pokemonId}`}>\n                <img src={\"/img/\" + props.pokemon.pokemonId + \".png\"} alt={\"pokemon\"}/>\n                <h5>{props.pokemon.pokemonName}</h5>\n            </NavLink>\n        </div>\n    )\n}","import React, {useContext, useEffect} from 'react'\nimport {AuthContext} from \"../context/auth.context\";\nimport {CaughtPokemonsCard} from \"../components/CaughtPokemon\";\nimport '../style/pokemons/Pokemons.scss'\nimport {Loader} from \"../components/Loader\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getCaughtPokemons} from \"../redux/actions/actions\";\nimport {Auth} from \"./Auth\";\n\nexport const CaughtPokemons = () => {\n    const {token} = useContext(AuthContext);\n    const dispatch = useDispatch();\n    const caughtPokemons = useSelector(state => state.pokemons.caughtPokemons);\n    const loading = useSelector(state => state.load.loading);\n    const notAuth = useSelector(state => state.load.notAuth);\n\n    useEffect(() => {\n        dispatch(getCaughtPokemons(token))\n    }, [dispatch, token])\n\n    if (loading) {\n        return <Loader/>\n    }\n\n    if (notAuth) {\n        return <Auth/>\n    }\n\n    return (\n        <div className=\"container__caught\">\n            {caughtPokemons.map(pokemon =>\n                <CaughtPokemonsCard key={pokemon.pokemonId} pokemon={pokemon}/>\n            )}\n        </div>\n    )\n}","import React from 'react'\nimport '../style/pokemonCard/pokemonCard.scss'\n\nexport const PokemonCard = (props) => {\n    const pokemon = props.pokemon;\n    const isCatch = pokemon.date;\n    return (\n        <div className=\"container__card\">\n            <div className=\"card__pokemon\">\n                <div className=\"card__img\">\n                    <img src={`/img/${pokemon.id}.png`} alt={\"Покемон\"}/>\n                </div>\n                <div className=\"card__info\">\n                    <h3>{pokemon.name}</h3>\n                    <p>ID: {pokemon.id}</p>\n                    {isCatch && <p> Дата: {pokemon.date}</p>}\n                    {isCatch ? <p>Статус: пойман</p> : <p>Статус: не пойман</p>}\n                </div>\n            </div>\n        </div>\n    )\n}","import React, {useContext, useEffect} from 'react'\nimport {PokemonCard} from \"../components/PokemonCard\";\nimport {useParams} from 'react-router-dom'\nimport {AuthContext} from \"../context/auth.context\";\nimport {Loader} from \"../components/Loader\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getPokemon} from \"../redux/actions/actions\";\n\nexport const Pokemon = () => {\n    const pokemonId = useParams().id;\n    const {token} = useContext(AuthContext);\n    const dispatch = useDispatch();\n    const loading = useSelector(state => state.load.loading);\n    //this code was not removed on purpose, as it works faster with it\n    //\n    /* const [pokemon, setPokemon] = useState({});\n        const {request, loading} = useHttp()\n     const getPokemon = useCallback(async () => {\n         try {\n             const url = `/api/img/pokemon/${pokemonId}`\n             const fetchPokemon = await request(url, 'GET', null, {\n                 Authorization: `Bearer ${token}`\n             })\n             console.log(\"fetchPokemons = \", fetchPokemon);\n             setPokemon(fetchPokemon)\n         } catch (e) {\n\n         }\n     }, [request, token])*/\n\n    let pokemon = useSelector(state => state.pokemons.pokemon);\n    let pokemonDisplay = [];\n\n    useEffect(() => {\n            dispatch(getPokemon(pokemonId, token));\n        }, [dispatch, pokemonId, token]\n    )\n\n    if (loading) {\n        return (\n            <Loader/>\n        )\n    }\n    let isDown = pokemon.id == pokemonId.split('').slice(1).join('');\n    if (isDown) {\n        pokemonDisplay = pokemon;\n    }\n\n    return (\n        <div> {!loading && isDown && <PokemonCard pokemon={pokemonDisplay}/>} </div>\n    )\n}","import {useState, useCallback, useEffect} from 'react';\n\nconst storageName = 'user'\nexport const useAuth = () => {\n    const [token, setToken] = useState(null);\n    const [userId, setuserId] = useState(null);\n    const [ready, setReady] = useState(false);\n\n    const login = useCallback((jwtToken, id) => {\n        setToken(jwtToken);\n        setuserId(id);\n        localStorage.setItem(storageName, JSON.stringify({\n            userId: id, token: jwtToken,\n        }));\n    }, [])\n\n    const logout = useCallback(() => {\n        setToken(null);\n        setuserId(null);\n        localStorage.removeItem(storageName);\n    }, [])\n\n    useEffect(() => {\n        const userLocalStorage = JSON.parse(localStorage.getItem(storageName));\n        if (userLocalStorage && userLocalStorage.token) {\n            login(userLocalStorage.token, userLocalStorage.userId);\n        }\n        setReady(true);\n    }, [login])\n\n    return {login, logout, token, userId, ready}\n}","import React, {useContext} from 'react'\nimport {NavLink, useHistory} from \"react-router-dom\";\nimport {AuthContext} from \"../context/auth.context\";\nimport \"../style/navbar/navbar.scss\"\n\nexport const Navbar = () => {\n    const history = useHistory();\n    const auth = useContext(AuthContext);\n\n    const logoutHandler = event => {\n        event.preventDefault();\n        auth.logout();\n        history.push('/')\n    }\n\n    return (\n        <nav>\n            <div className=\"nav\">\n                <ul>\n                    <li><NavLink to={\"/img\"}>pokemons</NavLink></li>\n                    <li><NavLink to={\"/caughtPokemons\"}>caughtPokemons</NavLink></li>\n                    <li><a href=\"/\" onClick={logoutHandler}>logout</a></li>\n                </ul>\n            </div>\n        </nav>\n    )\n}","import React from 'react';\nimport {useRoutes} from \"./routes\";\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {useAuth} from \"./hooks/auth.hooks\";\nimport {AuthContext} from \"./context/auth.context\";\nimport {Navbar} from \"./components/Navbar\";\nimport {Loader} from \"./components/Loader\";\n\nfunction App() {\n    const { token, login, logout, userId, ready } = useAuth();\n    const isAuth = !!token;\n    const routes = useRoutes(isAuth);\n    if (!ready) {\n        return (\n            <Loader/>\n        )\n    }\n\n    return (\n        <AuthContext.Provider value={{ token, login, logout, userId, isAuth }}>\n            <Router>\n                { isAuth && <Navbar/> }\n                {routes}\n            </Router>\n        </AuthContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react'\nimport {Switch, Route, Redirect} from 'react-router-dom'\nimport {Pokemons} from \"./pages/Pokemons\";\nimport {CaughtPokemons} from './pages/caughtPokemons';\nimport {Auth} from \"./pages/Auth\";\nimport {Pokemon} from \"./pages/Pokemon\";\n\nexport const useRoutes = isAuth => {\n    if (isAuth) {\n        return (\n            <Switch>\n                <Route path=\"/pokemons\" exact>\n                    <Pokemons/>\n                </Route>\n                <Route path=\"/caughtPokemons\">\n                    <CaughtPokemons/>\n                </Route>\n                <Route path=\"/pokemon/:id\">\n                    <Pokemon/>\n                </Route>\n                <Redirect to=\"/pokemons\"/>\n            </Switch>\n        )\n    }\n\n    return (\n        <Switch>\n            <Route path=\"/\" exact>\n                <Auth/>\n            </Route>\n            <Redirect to=\"/\"/>\n        </Switch>\n    )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {CAUGHT_POKEMON, GET_POKEMON, GET_POKEMONS, LOAD_MORE, RESET_POKEMON} from \"../actions/actionTypes\";\n\nconst initialState = {\n    pokemons: [],\n    displayPokemons: [],\n    caughtPokemons: [],\n    page: 1,\n    isInit: false,\n    pokemon: {}\n};\n\nexport const pokemonReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_POKEMONS: {\n            if (!state.pokemons.length) {\n                state.isInit = true;\n\n            }\n            return {\n                ...state,\n                pokemons: action.payload,\n                displayPokemons: state.pokemons.concat(action.payload).slice(0, state.page * 6)\n            }\n        }\n        case LOAD_MORE: {\n            return {\n                ...state,\n                page: state.page + 1,\n                displayPokemons: state.pokemons.slice(0, (state.page + 1) * 6),\n            }\n        }\n        case CAUGHT_POKEMON: {\n            return {\n                ...state,\n                caughtPokemons: action.payload\n            }\n        }\n        case GET_POKEMON: {\n            return {\n                ...state,\n                pokemon: action.payload\n            }\n        }\n        case RESET_POKEMON: {\n            return {\n                ...state,\n                pokemon: {},\n                caughtPokemons: [],\n                pokemons: [],\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\n","import {SHOW_LOADER, HIDE_LOADER, NOT_AUTH} from \"../actions/actionTypes\";\n\nconst initialState = {\n    loading: false,\n    notAuth: false,\n    isMessage: false,\n}\n\nexport const loadReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case NOT_AUTH:\n            return {...state, notAuth: true}\n        case SHOW_LOADER:\n            return {...state, loading: true}\n        case HIDE_LOADER:\n            return {...state, loading: false}\n        default:\n            return state\n    }\n}","import {pokemonReducer} from \"./pokemonReducer\";\nimport {loadReducer} from \"./loaderReducer\";\nimport {combineReducers} from \"redux\";\n\nexport const rootReducers = combineReducers({\n    pokemons: pokemonReducer,\n    load: loadReducer,\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {createStore, applyMiddleware, compose} from 'redux'\nimport reportWebVitals from './reportWebVitals';\nimport {rootReducers} from \"./redux/reducers/rootReducer\";\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux'\n\nconst store = createStore(rootReducers, compose(\n    applyMiddleware(thunk)\n))\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App/>\n        </React.StrictMode>\n    </Provider>\n    ,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}